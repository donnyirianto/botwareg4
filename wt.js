

const Controller = require("./controllers/controller.js");
const fs = require("fs");
( async() => { 

const datareq = ["5 G301 F13U 2023-05-13",
"5 G301 F1CC 2023-05-13",
"5 G301 F1CC 2023-05-14",
"5 G301 F56L 2023-05-13",
"5 G301 F5N6 2023-05-15",
"5 G301 F6N6 2023-05-15",
"5 G301 F984 2023-05-15",
"5 G301 FC9Z 2023-05-16",
"5 G301 FGL1 2023-05-14",
"5 G301 FN0Q 2023-05-15",
"5 G301 FQ72 2023-05-13",
"5 G301 FQ72 2023-05-15",
"5 G301 FR39 2023-05-13",
"5 G301 FRO8 2023-05-12",
"5 G301 FTEG 2023-05-14",
"5 G301 FTRP 2023-05-12",
"5 G301 FWSX 2023-05-14",
"5 G301 FZDA 2023-05-15",
"5 G301 FZHN 2023-05-14",
"5 G301 T0N0 2023-05-14",
"5 G301 T0U6 2023-05-15",
"5 G301 T13F 2023-05-12",
"5 G301 T1T5 2023-05-13",
"5 G301 T1UB 2023-05-14",
"5 G301 T3OG 2023-05-15",
"5 G301 T4R6 2023-05-12",
"5 G301 T53W 2023-05-14",
"5 G301 T56C 2023-05-14",
"5 G301 T61C 2023-05-15",
"5 G301 T61C 2023-05-16",
"5 G301 T6O3 2023-05-16",
"5 G301 T6RA 2023-05-13",
"5 G301 T7BD 2023-05-15",
"5 G301 T7KS 2023-05-15",
"5 G301 T7Z4 2023-05-13",
"5 G301 T9N3 2023-05-15",
"5 G301 TA8O 2023-05-13",
"5 G301 TAH7 2023-05-15",
"5 G301 TAH7 2023-05-16",
"5 G301 TCPO 2023-05-13",
"5 G301 TCPO 2023-05-16",
"5 G301 TCZN 2023-05-16",
"5 G301 TD3N 2023-05-06",
"5 G301 TDQN 2023-05-14",
"5 G301 TE4V 2023-05-12",
"5 G301 TEKK 2023-05-13",
"5 G301 TETR 2023-05-13",
"5 G301 TH2S 2023-05-15",
"5 G301 THCM 2023-05-16",
"5 G301 THGF 2023-05-13",
"5 G301 THH5 2023-05-14",
"5 G301 TISY 2023-05-16",
"5 G301 TJEP 2023-05-15",
"5 G301 TKMF 2023-05-15",
"5 G301 TLG5 2023-05-14",
"5 G301 TLN7 2023-05-16",
"5 G301 TLOZ 2023-05-15",
"5 G301 TM1C 2023-05-15",
"5 G301 TMCH 2023-05-14",
"5 G301 TMDF 2023-05-15",
"5 G301 TNB4 2023-05-16",
"5 G301 TNIE 2023-05-16",
"5 G301 TO5I 2023-05-15",
"5 G301 TPAW 2023-05-15",
"5 G301 TPV4 2023-05-13",
"5 G301 TPXQ 2023-05-16",
"5 G301 TQLM 2023-05-15",
"5 G301 TQOM 2023-05-13",
"5 G301 TQOM 2023-05-14",
"5 G301 TR7I 2023-05-12",
"5 G301 TSLJ 2023-05-15",
"5 G301 TSLJ 2023-05-16",
"5 G301 TTCS 2023-05-16",
"5 G301 TTRJ 2023-05-15",
"5 G301 TUI6 2023-05-15",
"5 G301 TVUD 2023-05-13",
"5 G301 TVZQ 2023-05-14",
"5 G301 TXGC 2023-05-13",
"5 G301 TXMH 2023-05-13",
"5 G301 TY26 2023-05-15",
"5 G301 TZIX 2023-05-15"]     

for(let ix of datareq){
    const pesan = ix.split(" ")
    var today = pesan[3]
    var today2 = `${pesan[3].substr(5,2)}${pesan[3].substr(8,2)}`
    
    const kdcab = "G301"
    const kdtk = pesan[2]
    
    const pesanwa= await Controller.DownloadWT(today,kdcab,kdtk,'', `WT${today2}${kdtk.substr(0,1)}.${kdtk.substr(1,3)}`)                                        
    
    if (fs.existsSync(`./filewt/WT${today2}${kdtk.substr(0,1)}.${kdtk.substr(1,3)}`)) {
        console.log(`${ix} - Sukses`)    
    } 
    
}

})();